### 01数据类型判断方式

在JavaScript中，你可以使用以下几种方法来判断数据的类型：

#### type操作符

返回一个表示数据类型的字符串，可以判断所有基本数据类型除null，和object&functio

```js
console.log(typeof "Hello");  // 输出：string
console.log(typeof 42);  // 输出：number
console.log(typeof true);  // 输出：boolean
console.log(typeof undefined);  // 输出：undefined
console.log(typeof null);  // 输出：object（注意：null被错误地判断为对象类型）
console.log(typeof [1, 2, 3]);  // 输出：object
console.log(typeof {name: "John", age: 30});  // 输出：object
console.log(typeof function() {});  // 输出：function

```

#### instance操作符

`instanceof` 操作符只能用于检查对象是否是特定类型的实例，而不能用于检查基本数据类型（如字符串、数字、布尔等）的类型.

```js
console.log("Hello" instanceof String);  // 输出：false
console.log(new String("Hello") instanceof String);  // 输出：true
console.log(42 instanceof Number);  // 输出：false
console.log(new Number(42) instanceof Number);  // 输出：true
console.log(true instanceof Boolean);  // 输出：false
console.log(new Boolean(true) instanceof Boolean);  // 输出：true
console.log([1, 2, 3] instanceof Array);  // 输出：true
console.log({name: "John", age: 30} instanceof Object);  // 输出：true

```

##### 原理：

```js
const instanceOfImpl = (obj, constructor) => {
  if(typeof obj !== "object" || obj === null) {
    return false
  }
  // 获取对象的原型
  let prototype = Object.getPrototypeOf(obj);
  // 沿着原型链向上查找，直到找到构造函数的原型或到达原型链的末尾（null）
  while(prototype) {
    if(prototype === constructor.prototype) {
      return true
    }
    prototype = Object.getPrototypeOf(prototype);
  }
  return false
}
const john = new Person();
function Person() {}
console.log(instanceOfImpl(john, Person));  // 输出：true
console.log(instanceOfImpl(john, Object));  // 输出：true
console.log(instanceOfImpl(john, Array));  // 输出：false
```

#### Array.isArray()

检查一个值是否为数组类型

```js
console.log(Array.isArray([1, 2, 3]));  // 输出：true
console.log(Array.isArray({name: "John", age: 30}));  // 输出：false

```

### Object.prototype.toString.call()

返回一个表示对象类型的字符串

```js
console.log(Object.prototype.toString.call("Hello"));  // 输出：[object String]
console.log(Object.prototype.toString.call(42));  // 输出：[object Number]
console.log(Object.prototype.toString.call(true));  // 输出：[object Boolean]
console.log(Object.prototype.toString.call(undefined));  // 输出：[object Undefined]
console.log(Object.prototype.toString.call(null));  // 输出：[object Null]
console.log(Object.prototype.toString.call([1, 2, 3]));  // 输出：[object Array]
console.log(Object.prototype.toString.call({name: "John", age: 30}));  // 输出：[object Object]
console.log(Object.prototype.toString.call(function() {}));  // 输出：[object Function]

```
