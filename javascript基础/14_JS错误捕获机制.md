#### 前端常见的捕获错误的方式有以下几种：

1. try-catch：可以使用 try-catch 语句来捕获 JavaScript 中的错误。try 语句包含可能会发生错误的代码块，catch 语句用于处理错误。
2. window.onerror：可以通过 window.onerror 方法来捕获 JavaScript 运行时的错误。当 JavaScript 发生错误时，会触发 window.onerror 事件，可以通过该事件来处理错误。
3. window.addEventListener('error', callback)：可以通过 window.addEventListener 方法来监听 error 事件，当 JavaScript 发生错误时，会触发该事件，可以通过该事件来处理错误。
4. Vue.config.errorHandler：在 Vue.js 中，可以通过 Vue.config.errorHandler 来捕获 Vue 组件中的错误，当组件发生错误时，会触发该方法。
5. React 错误边界（Error Boundaries）：在 React 中，可以使用错误边界来捕获组件中的错误。错误边界是一种 React 组件，可以捕获并处理其子组件中的错误。

### window.addEventListener 与 window.onerror区别

window.onerror 和 window.addEventListener('error', callback) 都可以用来捕获 JavaScript 运行时的错误，但是它们之间有一些区别：

1. window.onerror 只能捕获未被 catch 的错误，而 window.addEventListener('error', callback) 可以捕获所有的错误，包括未被 catch 的错误和已被 catch 的错误。
2. window.onerror 只能设置一个全局的错误处理函数，而 window.addEventListener('error', callback) 可以设置多个错误处理函数，每个函数都会被依次调用。
3. window.onerror 可以获取错误的信息、错误发生的文件名和行号等信息，而 window.addEventListener('error', callback) 可以获取更详细的错误信息，包括错误类型、错误堆栈等信息。
4. window.onerror 只能捕获 JavaScript 运行时的错误，而 window.addEventListener('error', callback) 还可以捕获资源加载错误、跨域脚本错误等其他类型的错误。

### 跨域与监控

前端项目在统计前端报错监控时会遇到上报的内容只有 `Script Error` 的问题。这个问题也是由同源策略引起。在 `<script>` 标签上添加 `crossorigin="anonymous"` 并且返回的 JS 文件响应头加上 `Access-Control-Allow-Origin: *` 即可捕捉到完整的错误堆栈。
