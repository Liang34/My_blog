tree Shaking 是一种优化技术，用于在打包过程中去除未使用的代码，以减小最终生成的 bundle 文件的大小。它的原理是通过静态代码分析，确定哪些代码在应用程序中没有被使用，并将其从最终的输出中删除。

下面是一些编写代码时可以确保 Tree Shaking 生效的方法：

1. 使用 ES6 模块语法：确保你的代码使用 ES6 模块语法进行导入和导出，而不是旧的 CommonJS 或 AMD 格式。ES6 模块语法支持静态分析，这是 Tree Shaking 的基础。
2. 导入具体的模块成员：在导入模块时，尽量只导入你实际使用的具体模块成员，而不是整个模块。这样可以帮助 Tree Shaking 去除未使用的代码。

`import { someFunction } from 'myModule'; `

3. 避免导入副作用：如果你的模块没有导出任何成员，只是执行一些副作用（例如，改变全局状态或执行初始化代码），可以使用 `import` 语句的副作用导入形式。这样可以告诉工具不要将模块视为无用代码。

   `import 'myModule';
   `
6. 避免动态导入：尽量避免使用动态导入，因为它们的模块依赖关系在编译时无法静态确定，从而使 Tree Shaking 无法生效。
7. 使用生产环境构建：在构建你的项目时，确保使用生产环境的构建工具和配置。生产环境构建通常会应用各种优化，包括 Tree Shaking。
8. 配置构建工具：如果你使用的是像 Webpack 这样的构建工具，确保正确配置它来支持 Tree Shaking。例如，对于 Webpack，你可以设置 `mode` 为 `production`，启用 `optimization.minimize`，以及其他相关的优化配置。

通过以上方法，可以确保代码能够充分利用 Tree Shaking，去除未使用的代码，从而减小最终生成的 bundle 文件的大小。但请注意，Tree Shaking 的效果还取决于具体的构建工具和配置，以及代码本身的结构和使用方式。
