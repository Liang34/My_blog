### TreeShaking是啥

Tree Shaking 是指通过静态代码分析，删除 JavaScript 中未被使用的代码的过程。它是一种优化 JavaScript 应用程序的技术，可以帮助减少代码的体积，提高应用程序的性能。

在使用 Tree Shaking 时，通常需要使用 ES6 的模块化语法（import/export），因为它可以帮助静态分析工具确定哪些代码被使用，哪些代码没有被使用。具体来说，Tree Shaking 的过程可以分为以下几个步骤：

1. 静态分析：使用工具分析代码中的模块依赖关系，确定哪些模块被引用了，哪些模块没有被引用。
2. 标记未使用代码：对于没有被引用的代码，标记为未使用状态。
3. 删除未使用代码：将标记为未使用状态的代码从代码库中删除。

使用 Tree Shaking 可以帮助我们减少代码库的体积，提高应用程序的性能。

### 使用 Tree Shaking 的技巧

1. 使用 ES6 的模块化语法：Tree Shaking 只能处理使用 ES6 的模块化语法的代码，因此需要使用 `import/export` 语法来导入和导出模块。
2. 避免使用副作用代码：副作用代码指会对环境产生影响的代码，例如修改全局变量、执行 I/O 操作等。由于副作用代码的执行结果是不确定的，因此无法进行静态分析，也无法进行 Tree Shaking。因此，应该尽量避免使用副作用代码, 如果只是执行一些副作用（例如，改变全局状态或执行初始化代码），可以使用 `import` 语句的副作用导入形式。这样可以告诉工具不要将模块视为无用代码。
   ```js
   import 'myModule';

   ```
4. 导入具体的模块成员：在导入模块时，尽量只导入你实际使用的具体模块成员，而不是整个模块。这样可以帮助 Tree Shaking 去除未使用的代码。

4. 避免动态导入：尽量避免使用动态导入，因为它们的模块依赖关系在编译时无法静态确定，从而使 Tree Shaking 无法生效。
