# 性能优化的指标和工具



重要指标之一**waterfall**：

横向看：

![waterfall1](D:\开课吧\前端性能优化 掌握行业实用专业前沿的解决方案\img\waterfall1.png)

其中比较重要的是（TTFB):请求发出到请求回来，他是用户最直观的感受，在请求回来前都是白屏状态。

影响因素：①后台处理能力（数据库、数据组织）②资源回路网络情况③下载（Content Download）（蓝条越大，资源越大）

纵向看：两个点

![waterfall2](D:\开课吧\前端性能优化 掌握行业实用专业前沿的解决方案\img\waterfall2.png)

LightHouse：

![LightHourse](D:\开课吧\前端性能优化 掌握行业实用专业前沿的解决方案\img\LightHourse.png)

交互：①搜索②画面流畅（1秒60帧）③加载动画要流畅（1秒60帧)

查看帧数：`Ctrl+shift+p`，输入frame就可以看到帧数了。

性能优化-加载

- 理解加载瀑布图
- 基于HAR存储与重建性能信息
- 速度指数(Speed Index)
- 重要的测量指标（Speed Index、TTFB、页面加载时间、首次渲染)

性能优化-响应

- 交互动作的反馈时间
- 帧率FPS
- 异步请求的完成时间

RAIL测量模型

- Response响应：指网站给用户的操作响应。处理事件应在50ms以内完成。
- Animation动画：每10ms产出一帧。
- Idle空闲：保证浏览器有足够的空闲时间来与用户交互。尽可能增加空闲时间。

- Load加载：资源网络加载时间。在5s内完成内容加载并交互

性能测量工具：

- Chrome DevTools开发调试、性能评测
- Lighthouse网站整体质量评估
- webPageTest多测试地点、全面性能报告

Tree-shaking

- 上下文未用到的代码（dead code）
- 基于ES6 import export
- package.json中的
- 注意Babel默认配置的影响